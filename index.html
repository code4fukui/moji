
<meta charset="utf-8"><script type="module">
import { css, add, h1, style, link, create } from "https://js.sabae.cc/stdom.js";
import { MojiKiban } from "./MojiKiban.js";

onload = async () => {
  css();
  style({ body: { "text-align": "center" }, input: { width: "80%", "font-size": "150%", margin: "1em", padding: ".3em" }});

  h1("漢字検索、異体字検索");
  const inpkana = add("input");
  inpkana.placeholder = "漢字または読み";
  const divres = add("div");

  inpkana.onkeyup = inpkana.onchange = () => {
    const s = inpkana.value;
    if (s.length == 0) {
      return;
    }
    const hits = MojiKiban.search(s);
    console.log(hits);
    divres.innerHTML = "";
    for (const d of hits) {
      const div = create("div");
      div.innerHTML = `<img src=${MojiKiban.getImageLink(d)}> : ${d.yomi}`;
      divres.appendChild(div);
    }
  }
  add("br");
  link("MojiKiban by Code for Fukui", "https://github.com/code4fukui/mojikiban")
  link("一日一創", "https://fukuno.jig.jp/3242")

  await MojiKiban.init();
};
</script>
